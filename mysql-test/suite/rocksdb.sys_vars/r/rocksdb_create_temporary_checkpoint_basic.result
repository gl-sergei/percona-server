SET @orig_value = @@session.rocksdb_create_temporary_checkpoint;
SET SESSION ROCKSDB_CREATE_TEMPORARY_CHECKPOINT = 'TMP/abc';
SELECT @@ROCKSDB_CREATE_TEMPORARY_CHECKPOINT;
@@ROCKSDB_CREATE_TEMPORARY_CHECKPOINT
TMP/abc
SET SESSION ROCKSDB_CREATE_TEMPORARY_CHECKPOINT = 'TMP/def';
ERROR 42000: Variable 'rocksdb_create_temporary_checkpoint' can't be set to the value of 'TMP/def'
SET SESSION ROCKSDB_CREATE_TEMPORARY_CHECKPOINT = NULL;
SET SESSION ROCKSDB_CREATE_TEMPORARY_CHECKPOINT = 'TMP/def/';
SELECT @@ROCKSDB_CREATE_TEMPORARY_CHECKPOINT;
@@ROCKSDB_CREATE_TEMPORARY_CHECKPOINT
TMP/def/
SET SESSION ROCKSDB_CREATE_TEMPORARY_CHECKPOINT = 'TMP/def';
ERROR HY000: Got error 4 'Invalid argument: Directory exists' from ROCKSDB
SELECT @@ROCKSDB_CREATE_TEMPORARY_CHECKPOINT;
@@ROCKSDB_CREATE_TEMPORARY_CHECKPOINT
NULL
SET SESSION ROCKSDB_CREATE_TEMPORARY_CHECKPOINT = 'TMP/ghj';
SELECT @@ROCKSDB_CREATE_TEMPORARY_CHECKPOINT;
@@ROCKSDB_CREATE_TEMPORARY_CHECKPOINT
TMP/ghj
SET SESSION ROCKSDB_CREATE_TEMPORARY_CHECKPOINT = @orig_value;
